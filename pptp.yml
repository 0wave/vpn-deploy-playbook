---

- hosts: pptp
#  gather_facts: false
  vars:
    if_name: eth0
    public_ip:  ${ansible_eth0.ipv4.address}
    #pptp_use_radius: false

  roles:
#    - common
    - pptp

    #setup auth via radius
    - role: ppp-radiusclient
      when: pptp_use_radius
      device_type: pptp
      radius_servers: ${pptp_radius_servers}

    #nas role will setup firewall
    - role: nas
      device_type: pptp
      subnet: ${pptp_network.subnet}
      mtu: ${pptp_network.mtu}
